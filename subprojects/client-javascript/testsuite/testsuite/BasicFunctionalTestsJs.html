<!DOCTYPE html>
<html>
<head>
    <title>Basic Functional Tests</title>
    <script src="../libs/require.js"></script>
</head>
<body>
<h1>Basic Functional Tests written with inline JavaScript</h1>

<p>Enter text here to see the instant update of the connected labels:<br>
<input id="instant-update-input" type="text"></p>

<p>Instantly updated label from the same Attribute: <br>
<div id="instant-update-label" style="font-size: 1.2em;">unchanged</div></p>

<p>Instantly updated label from an Attribute with the same qualifier: <br>
<div id="qualified-label" style="font-size: 1.2em;">unchanged</div></p>

<script>

require([ '../js/dolphin/All' ], function (dol) {

    // setting up the dolphin
    var dolphin = dol.dolphin(null, false);
    // make a presentation model
    var instantUpdateAttribute = dol.attribute("instant-update",   "same-qualifier");
    var qualifiedAttribute     = dol.attribute("qualified-update", "same-qualifier");

    dolphin.presentationModel(undefined, undefined, instantUpdateAttribute);
    dolphin.presentationModel(undefined, undefined, qualifiedAttribute);

    // binding
    var instantUpdateInput = document.getElementById("instant-update-input");
    var instantUpdateLabel = document.getElementById("instant-update-label");
    var qualifiedLabel     = document.getElementById("qualified-label");

    instantUpdateInput.oninput = function (event) {
        instantUpdateAttribute.setValue(instantUpdateInput.value);
    };
    instantUpdateAttribute.onValueChange(function (event) {
        instantUpdateLabel.innerHTML = event.newValue;
    });
    qualifiedAttribute.onValueChange(function (event) {
        qualifiedLabel.innerHTML = event.newValue;
    });
});
</script>


</body>
</html>